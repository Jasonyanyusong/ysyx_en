<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" type="image/png" href="../../res/favicon.ico"><link rel="stylesheet" href="../res/fa/all.min.css"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff"><meta rel="manifest" href="/site.webmanifest"><title>穿越时空的旅程 | 官方文档</title><meta name="description" content="">
    <link rel="modulepreload" href="../assets/app.4a525931.js"><link rel="modulepreload" href="https://ysyx.oscc.cc/docs/assets/3.2.html.27c85899.js"><link rel="modulepreload" href="https://ysyx.oscc.cc/docs/assets/cte.1e686e6e.js"><link rel="modulepreload" href="https://ysyx.oscc.cc/docs/assets/3.2.html.d9011582.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.a7266140.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.232934df.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/20220828-1st-tech-forum.html.0352288d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/20230825-2nd-tech-forum.html.d1b9e033.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.1.html.b59807d6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.2.html.8bc8b9da.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.3.html.837fafd2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.4.html.4bffb007.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.5.html.ef8d5ad6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.6.html.6f0bd7f1.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.1.html.f0ea7137.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.2.html.1a53c337.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.3.html.caf2a3c8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.4.html.4cbf5a60.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.5.html.df79a509.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.6.html.86cafaf6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.7.html.8eeba125.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.1.html.e75fc45a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.2.html.d6b41a35.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.3.html.03919a0b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.4.html.c5c52d8f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.5.html.5d21687f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.1.html.4a79147b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.3.html.bf2039cd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.4.html.40ffb325.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.5.html.b892d672.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.1.html.d6100612.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.2.html.f7ed61dd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.3.html.ecdf42db.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.4.html.1dbb0913.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.5.html.4f17311c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.1.html.763316a2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.2.html.a59ea17f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.3.html.76c43eb5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/FAQ.html.63b12bf4.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA0.html.f0313a46.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA1.html.711b0eac.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA2.html.5de5ea0c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA3.html.742ae6ba.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA4.html.4c56f3c8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA5.html.2e845c96.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.f63a8f2b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/SUMMARY.html.ec5ea9f0.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/blank.html.8840013e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/changelog.html.81f04b8d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/exec.html.6ad93be9.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/feedback.html.e27071f8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/git.html.1a915150.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/i386-intro.html.bdcbf94c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/install.html.8fcdb015.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/linux.html.282ef355.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/man.html.6e006172.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/nemu-isa-api.html.990fd076.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/why.html.7ff158c5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.1.html.0d459461.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.2.html.2bb2f37d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.3.html.f3366680.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.4.html.3752ac62.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.5.html.689273e3.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.6.html.8b2df824.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.1.html.0504651a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.2.html.fb1d8b3c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.3.html.529fb578.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.4.html.9e5579fc.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.5.html.baab6d8e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.6.html.2f272d90.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.7.html.4bb1ac68.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.1.html.19f46ba1.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.2.html.2df57027.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.3.html.7fd96b44.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.4.html.de4f4be8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.5.html.c00bb579.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.1.html.e031a19f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.2.html.3b0d611d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.3.html.39ad3899.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.4.html.a95da085.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.5.html.8ca71b81.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.1.html.9d707f17.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.2.html.d99be7c2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.3.html.ad2b916c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.4.html.fe3dab0c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.5.html.29b6103a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.1.html.8311ab5c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.2.html.f9c0e541.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.3.html.05e60dbb.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/FAQ.html.5728bbbc.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA0.html.677b1d1f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA1.html.c29ccb12.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA2.html.0822ebd7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA3.html.aaa28f3f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA4.html.5ee6b43b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA5.html.63c57ad2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.fe3ed219.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/SUMMARY.html.cc6af0af.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/blank.html.01771de7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/changelog.html.6878181f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/exec.html.0a4cc38f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/feedback.html.c6b019d6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/git.html.4c8ac010.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/i386-intro.html.09e89e76.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/install.html.f8cfc8fd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/linux.html.2eccd12c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/man.html.89bba41a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/nemu-isa-api.html.ee2ea84e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/why.html.6c68e2a6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.1.html.5c976ac1.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.2.html.66db2f3f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.3.html.4aac06d9.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.4.html.e05b3fae.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.5.html.2eb42db1.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.6.html.830952b9.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.7.html.154c6975.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.8.html.cd9745bd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.9.html.a68a9bf2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/advanced.html.633848dd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.1.html.d1209dc4.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.10.html.af72b9f4.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.2.html.5e6f403b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.3.html.a86ca13a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.4.html.c8ea1de9.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.5.html.c486e237.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.6.html.17ca572d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.7.html.7080b768.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.8.html.7502ac87.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.9.html.bedcb78f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/baseline.html.3e2909ae.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.1.html.73f0d75e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.2.html.899db208.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.3.html.25cabbbb.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.4.html.2cbf3a34.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.5.html.a6bbf717.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.6.html.5ec49f77.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.7.html.6408936c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/prestudy.html.a9250176.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.1.html.4463740c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.2.html.d1e36fd2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.3.html.ae57c7b7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.4.html.6c63dbcc.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.5.html.ae2cdc09.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.6.html.d86fb91e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/specialist.html.69d2f484.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.7db9802e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/schedule-origin.html.6f8a7a8c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/schedule.html.2b0c5ddc.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.1.html.277e5588.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.2.html.77ed5027.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.3.html.c002cd7b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.4.html.af2e37c7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.5.html.ce15f76b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.6.html.04203cf4.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.7.html.3f64070f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.8.html.f2613449.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.9.html.6b985c58.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/advanced.html.65e379b5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.2995e200.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.1.html.583540ad.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.2.html.c221742a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.3.html.f4c8a5e5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.4.html.a76cfae7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.5.html.57aaf57c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.6.html.4fd2530f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.7.html.8a297aa0.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/prestudy.html.867e5d4c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.1.html.e2efd6a7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.2.html.aefd1e74.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.3.html.46b068a0.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.4.html.f550e424.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.5.html.a68ea659.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/baseline.html.619d3b2a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/soc.1.html.afb02b35.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/soc.2.html.f7df462f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/soc.3.html.e14cfa2a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/soc.4.html.ef83adf5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/ask.html.7c717162.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.1.html.4b1c8ec7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.2.html.2fa39d0f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.3.html.409b7b55.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.4.html.42646124.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.5.html.3a73f236.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.6.html.8e8c660b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/specialist.html.3efa6e29.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/faq.html.70d41486.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/student.html.8ffc0d97.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/notice.html.12c7f762.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/meaning-goal.html.86dddc36.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/overview.html.fab21fcd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/pass.html.9faccc41.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/training-concept.html.07c7d25c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/assistant.html.ab9ff4a0.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/notice.html.497a2ada.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/support.html.a0e77657.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/404.html.ce538133.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.cf814034.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.7a821f23.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/20220828-1st-tech-forum.html.686d7136.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/20230825-2nd-tech-forum.html.f5771670.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.1.html.e8dafc44.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.2.html.c1a3a5c8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.3.html.d39c2034.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.4.html.4bc666d2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.5.html.dba9e3d2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.6.html.f6ff707e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.1.html.c21b4394.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.2.html.a1a8df20.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.3.html.0bf7a167.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.4.html.ae74c2b2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.5.html.f40c8ae0.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.6.html.17832a39.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.7.html.a8c86a81.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.1.html.6d44643a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.2.html.443e26a6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.3.html.e1e938ec.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.4.html.1f907af1.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.5.html.2d383856.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.1.html.cbf5cdab.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.3.html.60c4b9fb.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.4.html.bda34a22.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.5.html.4124a18f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.1.html.7555d79b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.2.html.c4a6353d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.3.html.7f7aa959.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.4.html.3c240e28.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.5.html.df1ba6e4.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.1.html.6c462bbc.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.2.html.d14de6d8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.3.html.8b52ccd1.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/FAQ.html.e6a44f5f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA0.html.2ef80bf5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA1.html.891782b4.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA2.html.9658a1f2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA3.html.d1b8800a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA4.html.950d2e14.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA5.html.803dd116.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.511193b6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/SUMMARY.html.b1b9fd0f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/blank.html.281c2647.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/changelog.html.df9df882.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/exec.html.3d818a5c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/feedback.html.bdf42a97.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/git.html.6dee9910.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/i386-intro.html.cc3d6f08.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/install.html.ca20ca3b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/linux.html.982cb2be.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/man.html.78c8d359.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/nemu-isa-api.html.39ea2347.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/why.html.0f36cdb7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.1.html.352b1ee5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.2.html.f097f5f7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.3.html.6163e6cd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.4.html.a6ae9139.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.5.html.610f7dc5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.6.html.d728a707.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.1.html.c5ec55ed.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.2.html.cfa4dabf.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.3.html.68177e2a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.4.html.2dda1d06.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.5.html.a5a0e665.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.6.html.378e72eb.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.7.html.4b625448.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.1.html.806caf93.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.2.html.86a4b0f2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.3.html.32aa5d26.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.4.html.f35b7445.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.5.html.717e4c76.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.1.html.4fa6f565.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.2.html.52e6ba49.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.3.html.e20d38cc.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.4.html.a96a451c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.5.html.fb745285.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.1.html.a280e6c2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.2.html.fff6883e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.3.html.ff9fbed3.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.4.html.ff8add10.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/4.5.html.55ea5ab1.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.1.html.41b33646.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.2.html.b52ba57d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/5.3.html.c9dbb4ee.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/FAQ.html.fd208f3b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA0.html.1a552340.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA1.html.c7feba93.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA2.html.bc1f14af.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA3.html.41b913b0.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA4.html.5795ee2c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/PA5.html.b1b4ef4f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.2f4f0270.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/SUMMARY.html.641d7708.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/blank.html.1aa151fe.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/changelog.html.af92abe2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/exec.html.3d563957.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/feedback.html.0982b9a7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/git.html.894286f9.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/i386-intro.html.5f6ebfe8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/install.html.6820135d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/linux.html.92f11c92.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/man.html.0b859cb2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/nemu-isa-api.html.65a8ec7b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/why.html.dcd9327f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.1.html.cec3e29d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.2.html.a08b9c2f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.3.html.2e08d202.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.4.html.6cfe35a7.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.5.html.107ccf2f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.6.html.358e830c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.7.html.99f5d2da.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.8.html.5f125032.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.9.html.d3bbba57.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/advanced.html.0e654d5c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.1.html.b0bca01c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.10.html.e5e078aa.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.2.html.ba4ab312.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.3.html.546f9c64.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.4.html.fbcf467d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.5.html.2acafdfa.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.6.html.d966fecb.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.7.html.14b3bf1d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.8.html.de83bd00.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.9.html.1a542954.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/baseline.html.92dfeabf.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.1.html.6aeaccaf.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.2.html.c368f429.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.3.html.dfdd0db6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.4.html.290587b2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.5.html.f00f6f04.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.6.html.a074c18d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.7.html.46e71345.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/prestudy.html.afef3155.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.1.html.cdc53db6.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.2.html.23ebb3dd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.3.html.85c3bd36.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.4.html.b88be577.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.5.html.ff515b78.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.6.html.b41b68ca.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/specialist.html.26bdf948.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.878255da.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/schedule-origin.html.eacc721e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/schedule.html.75d22e8d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.1.html.4a82c235.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.2.html.2efb3275.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.3.html.47c8c0e8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.4.html.55da5ce3.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.5.html.7c06d8b5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.6.html.ed6d8049.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.7.html.c62fc84b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.8.html.90b91f6a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/2.9.html.1a5b8c85.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/advanced.html.7f4bb1ce.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/index.html.26370994.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.1.html.126c2f34.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.2.html.9e240aae.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.3.html.11cc66de.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.4.html.38669bc0.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.5.html.db19d255.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.6.html.7fa636ec.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/0.7.html.1d859400.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/prestudy.html.4ec5d8de.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.1.html.3df341b2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.2.html.d6a68a54.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.3.html.4e944541.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.4.html.e3d83b6a.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/1.5.html.f2a503c2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/baseline.html.1963ceb8.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/soc.1.html.1ecb1941.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/soc.2.html.d102f9fc.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/soc.3.html.00e9d91f.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/soc.4.html.8305527d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/ask.html.b699966b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.1.html.1c7a13e2.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.2.html.fdca3095.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.3.html.a7f3f20d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.4.html.600be615.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.5.html.5830d684.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/3.6.html.ae89b90d.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/specialist.html.9aabba01.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/faq.html.caad27ac.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/student.html.7e730436.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/notice.html.17a148ae.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/meaning-goal.html.a9225751.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/overview.html.6004fd9b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/pass.html.8d48939e.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/training-concept.html.01972c26.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/assistant.html.44c3fbb5.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/notice.html.2bcb6cfd.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/support.html.3242a66b.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/404.html.40b8a745.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/404.4e6b58b0.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/Layout.c0ed3a05.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/Container.3cafa256.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/Responsive.dde7be9c.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/Badge.ce404839.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/TriStateLink.74a9f928.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/Button.0f341231.js"><link rel="prefetch" href="https://ysyx.oscc.cc/docs/assets/MjxContainer.f281b7b6.js">
    <link rel="stylesheet" href="../assets/style.43f1000b.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><div><span class="can-hide site-name">第六期</span><img class="logo" src="../res/logo.png" alt="官方文档" style="margin-right:0px;position:relative;top:1px;"><span class="can-hide site-name">学习讲义</span></div></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="课程主页"><span class="title">课程主页</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="课程主页"><span class="title">课程主页</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="https://ysyx.oscc.cc/docs/" class="" aria-label="第六期"><!--[--><!--]--> 第六期 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="https://ysyx.oscc.cc/docs/2205" class="" aria-label="第五期"><!--[--><!--]--> 第五期 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="学习讲义"><span class="title">学习讲义</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="学习讲义"><span class="title">学习讲义</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/prestudy" class="" aria-label="预学习阶段"><!--[--><!--]--> 预学习阶段 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.1.html" class="" aria-label="如何科学地提问"><!--[--><!--]--> 如何科学地提问 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.2.html" class="" aria-label="Linux系统安装和基本使用"><!--[--><!--]--> Linux系统安装和基本使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.3.html" class="" aria-label="复习C语言"><!--[--><!--]--> 复习C语言 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.4.html" class="" aria-label="搭建verilator仿真环境"><!--[--><!--]--> 搭建verilator仿真环境 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.5.html" class="" aria-label="数字电路基础实验"><!--[--><!--]--> 数字电路基础实验 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.6.html" class="" aria-label="完成PA1"><!--[--><!--]--> 完成PA1 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.7.html" class="" aria-label="提交入学答辩申请"><!--[--><!--]--> 提交入学答辩申请 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="https://ysyx.oscc.cc/docs/2306/baseline/baseline" class="" aria-label="基础阶段"><!--[--><!--]--> 基础阶段 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.1.html" class="" aria-label="支持RV32IM的NEMU"><!--[--><!--]--> 支持RV32IM的NEMU <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.2.html" class="" aria-label="用RTL实现最简单的处理器"><!--[--><!--]--> 用RTL实现最简单的处理器 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.3.html" class="" aria-label="运行时环境和基础设施"><!--[--><!--]--> 运行时环境和基础设施 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.4.html" class="" aria-label="支持RV32E的单周期NPC"><!--[--><!--]--> 支持RV32E的单周期NPC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.5.html" class="" aria-label="设备和输入输出"><!--[--><!--]--> 设备和输入输出 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.6.html" class="" aria-label="简单的异常处理机制"><!--[--><!--]--> 简单的异常处理机制 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.7.html" class="" aria-label="总线"><!--[--><!--]--> 总线 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.8.html" class="" aria-label="SoC计算机系统"><!--[--><!--]--> SoC计算机系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.9.html" class="" aria-label="性能和简单缓存"><!--[--><!--]--> 性能和简单缓存 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.10.html" class="" aria-label="流水线处理器"><!--[--><!--]--> 流水线处理器 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其它资料"><span class="title">其它资料</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其它资料"><span class="title">其它资料</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="https://ysyx.oscc.cc/docs/ics-pa" class="router-link-active" aria-label="南京大学&quot;计算机系统基础&quot;实验(PA)"><!--[--><!--]--> 南京大学&quot;计算机系统基础&quot;实验(PA) <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="PA0.html" class="" aria-label="PA0 - 世界诞生的前夜: 开发环境配置"><!--[--><!--]--> PA0 - 世界诞生的前夜: 开发环境配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="PA1.html" class="" aria-label="PA1 - 开天辟地的篇章: 最简单的计算机"><!--[--><!--]--> PA1 - 开天辟地的篇章: 最简单的计算机 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="PA2.html" class="" aria-label="PA2 - 简单复杂的机器: 冯诺依曼计算机系统"><!--[--><!--]--> PA2 - 简单复杂的机器: 冯诺依曼计算机系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="PA3.html" class="" aria-label="PA3 - 穿越时空的旅程: 批处理系统"><!--[--><!--]--> PA3 - 穿越时空的旅程: 批处理系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="PA4.html" class="" aria-label="PA4 - 虚实交错的魔法: 分时多任务"><!--[--><!--]--> PA4 - 虚实交错的魔法: 分时多任务 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><div style="height:100%;display:flex;margin:0 0 0 1em;align-items:center;"><!----></div><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="课程主页"><span class="title">课程主页</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="课程主页"><span class="title">课程主页</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="https://ysyx.oscc.cc/docs/" class="" aria-label="第六期"><!--[--><!--]--> 第六期 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="https://ysyx.oscc.cc/docs/2205" class="" aria-label="第五期"><!--[--><!--]--> 第五期 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="学习讲义"><span class="title">学习讲义</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="学习讲义"><span class="title">学习讲义</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/prestudy" class="" aria-label="预学习阶段"><!--[--><!--]--> 预学习阶段 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.1.html" class="" aria-label="如何科学地提问"><!--[--><!--]--> 如何科学地提问 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.2.html" class="" aria-label="Linux系统安装和基本使用"><!--[--><!--]--> Linux系统安装和基本使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.3.html" class="" aria-label="复习C语言"><!--[--><!--]--> 复习C语言 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.4.html" class="" aria-label="搭建verilator仿真环境"><!--[--><!--]--> 搭建verilator仿真环境 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.5.html" class="" aria-label="数字电路基础实验"><!--[--><!--]--> 数字电路基础实验 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.6.html" class="" aria-label="完成PA1"><!--[--><!--]--> 完成PA1 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/prestudy/0.7.html" class="" aria-label="提交入学答辩申请"><!--[--><!--]--> 提交入学答辩申请 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="https://ysyx.oscc.cc/docs/2306/baseline/baseline" class="" aria-label="基础阶段"><!--[--><!--]--> 基础阶段 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.1.html" class="" aria-label="支持RV32IM的NEMU"><!--[--><!--]--> 支持RV32IM的NEMU <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.2.html" class="" aria-label="用RTL实现最简单的处理器"><!--[--><!--]--> 用RTL实现最简单的处理器 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.3.html" class="" aria-label="运行时环境和基础设施"><!--[--><!--]--> 运行时环境和基础设施 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.4.html" class="" aria-label="支持RV32E的单周期NPC"><!--[--><!--]--> 支持RV32E的单周期NPC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.5.html" class="" aria-label="设备和输入输出"><!--[--><!--]--> 设备和输入输出 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.6.html" class="" aria-label="简单的异常处理机制"><!--[--><!--]--> 简单的异常处理机制 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.7.html" class="" aria-label="总线"><!--[--><!--]--> 总线 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.8.html" class="" aria-label="SoC计算机系统"><!--[--><!--]--> SoC计算机系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.9.html" class="" aria-label="性能和简单缓存"><!--[--><!--]--> 性能和简单缓存 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="https://ysyx.oscc.cc/docs/2306/baseline/1.10.html" class="" aria-label="流水线处理器"><!--[--><!--]--> 流水线处理器 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其它资料"><span class="title">其它资料</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其它资料"><span class="title">其它资料</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="https://ysyx.oscc.cc/docs/ics-pa" class="router-link-active" aria-label="南京大学&quot;计算机系统基础&quot;实验(PA)"><!--[--><!--]--> 南京大学&quot;计算机系统基础&quot;实验(PA) <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="PA0.html" class="" aria-label="PA0 - 世界诞生的前夜: 开发环境配置"><!--[--><!--]--> PA0 - 世界诞生的前夜: 开发环境配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="PA1.html" class="" aria-label="PA1 - 开天辟地的篇章: 最简单的计算机"><!--[--><!--]--> PA1 - 开天辟地的篇章: 最简单的计算机 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="PA2.html" class="" aria-label="PA2 - 简单复杂的机器: 冯诺依曼计算机系统"><!--[--><!--]--> PA2 - 简单复杂的机器: 冯诺依曼计算机系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="PA3.html" class="" aria-label="PA3 - 穿越时空的旅程: 批处理系统"><!--[--><!--]--> PA3 - 穿越时空的旅程: 批处理系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="PA4.html" class="" aria-label="PA4 - 虚实交错的魔法: 分时多任务"><!--[--><!--]--> PA4 - 虚实交错的魔法: 分时多任务 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="index.html" class="router-link-active sidebar-item sidebar-heading" aria-label="南京大学 &quot;计算机系统基础&quot; 实验"><!--[--><!--]--> 南京大学 &quot;计算机系统基础&quot; 实验 <!--[--><!--]--></a><!----></li><li><a href="PA0" class="sidebar-item sidebar-heading" aria-label="PA0 - 世界诞生的前夜: 开发环境配置"><!--[--><!--]--> PA0 - 世界诞生的前夜: 开发环境配置 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="0.1.html" class="sidebar-item" aria-label="Preparation"><!--[--><!--]--> Preparation <!--[--><!--]--></a><!----></li><li><a href="0.2.html" class="sidebar-item" aria-label="First Exploration with GNU/Linux"><!--[--><!--]--> First Exploration with GNU/Linux <!--[--><!--]--></a><!----></li><li><a href="0.3.html" class="sidebar-item" aria-label="Installing Tools"><!--[--><!--]--> Installing Tools <!--[--><!--]--></a><!----></li><li><a href="0.4.html" class="sidebar-item" aria-label="Configuring vim"><!--[--><!--]--> Configuring vim <!--[--><!--]--></a><!----></li><li><a href="0.5.html" class="sidebar-item" aria-label="More Exploration"><!--[--><!--]--> More Exploration <!--[--><!--]--></a><!----></li><li><a href="0.6.html" class="sidebar-item" aria-label="Getting Source Code for PAs"><!--[--><!--]--> Getting Source Code for PAs <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="PA1" class="sidebar-item sidebar-heading" aria-label="PA1 - 开天辟地的篇章: 最简单的计算机"><!--[--><!--]--> PA1 - 开天辟地的篇章: 最简单的计算机 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="1.1.html" class="sidebar-item" aria-label="在开始愉快的PA之旅之前"><!--[--><!--]--> 在开始愉快的PA之旅之前 <!--[--><!--]--></a><!----></li><li><a href="1.2.html" class="sidebar-item" aria-label="开天辟地的篇章"><!--[--><!--]--> 开天辟地的篇章 <!--[--><!--]--></a><!----></li><li><a href="1.3.html" class="sidebar-item" aria-label="RTFSC"><!--[--><!--]--> RTFSC <!--[--><!--]--></a><!----></li><li><a href="1.4.html" class="sidebar-item" aria-label="基础设施: 简易调试器"><!--[--><!--]--> 基础设施: 简易调试器 <!--[--><!--]--></a><!----></li><li><a href="1.5.html" class="sidebar-item" aria-label="表达式求值"><!--[--><!--]--> 表达式求值 <!--[--><!--]--></a><!----></li><li><a href="1.6.html" class="sidebar-item" aria-label="监视点"><!--[--><!--]--> 监视点 <!--[--><!--]--></a><!----></li><li><a href="1.7.html" class="sidebar-item" aria-label="如何阅读手册"><!--[--><!--]--> 如何阅读手册 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="PA2" class="sidebar-item sidebar-heading" aria-label="PA2 - 简单复杂的机器: 冯诺依曼计算机系统"><!--[--><!--]--> PA2 - 简单复杂的机器: 冯诺依曼计算机系统 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="2.1.html" class="sidebar-item" aria-label="不停计算的机器"><!--[--><!--]--> 不停计算的机器 <!--[--><!--]--></a><!----></li><li><a href="2.2.html" class="sidebar-item" aria-label="RTFM"><!--[--><!--]--> RTFM <!--[--><!--]--></a><!----></li><li><a href="2.3.html" class="sidebar-item" aria-label="程序, 运行时环境与AM"><!--[--><!--]--> 程序, 运行时环境与AM <!--[--><!--]--></a><!----></li><li><a href="2.4.html" class="sidebar-item" aria-label="基础设施(2)"><!--[--><!--]--> 基础设施(2) <!--[--><!--]--></a><!----></li><li><a href="2.5.html" class="sidebar-item" aria-label="输入输出"><!--[--><!--]--> 输入输出 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="PA3" class="sidebar-item sidebar-heading active" aria-label="PA3 - 穿越时空的旅程: 批处理系统"><!--[--><!--]--> PA3 - 穿越时空的旅程: 批处理系统 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="3.1.html" class="sidebar-item" aria-label="批处理系统"><!--[--><!--]--> 批处理系统 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="穿越时空的旅程"><!--[--><!--]--> 穿越时空的旅程 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="3.2.html#x86" class="router-link-active router-link-exact-active sidebar-item" aria-label="x86"><!--[--><!--]--> x86 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#mips32" class="router-link-active router-link-exact-active sidebar-item" aria-label="mips32"><!--[--><!--]--> mips32 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#riscv32" class="router-link-active router-link-exact-active sidebar-item" aria-label="riscv32"><!--[--><!--]--> riscv32 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#状态机视角下的异常响应机制" class="router-link-active router-link-exact-active sidebar-item" aria-label="状态机视角下的异常响应机制"><!--[--><!--]--> 状态机视角下的异常响应机制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#将上下文管理抽象成cte" class="router-link-active router-link-exact-active sidebar-item" aria-label="将上下文管理抽象成CTE"><!--[--><!--]--> 将上下文管理抽象成CTE <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="3.2.html#设置异常入口地址" class="router-link-active router-link-exact-active sidebar-item" aria-label="设置异常入口地址"><!--[--><!--]--> 设置异常入口地址 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#触发自陷操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="触发自陷操作"><!--[--><!--]--> 触发自陷操作 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#保存上下文" class="router-link-active router-link-exact-active sidebar-item" aria-label="保存上下文"><!--[--><!--]--> 保存上下文 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#事件分发" class="router-link-active router-link-exact-active sidebar-item" aria-label="事件分发"><!--[--><!--]--> 事件分发 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#恢复上下文" class="router-link-active router-link-exact-active sidebar-item" aria-label="恢复上下文"><!--[--><!--]--> 恢复上下文 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="3.2.html#异常处理的踪迹-etrace" class="router-link-active router-link-exact-active sidebar-item" aria-label="异常处理的踪迹 - etrace"><!--[--><!--]--> 异常处理的踪迹 - etrace <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="3.3.html" class="sidebar-item" aria-label="用户程序和系统调用"><!--[--><!--]--> 用户程序和系统调用 <!--[--><!--]--></a><!----></li><li><a href="3.4.html" class="sidebar-item" aria-label="简易文件系统"><!--[--><!--]--> 简易文件系统 <!--[--><!--]--></a><!----></li><li><a href="3.5.html" class="sidebar-item" aria-label="精彩纷呈的应用程序"><!--[--><!--]--> 精彩纷呈的应用程序 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="PA4" class="sidebar-item sidebar-heading" aria-label="PA4 - 虚实交错的魔法: 分时多任务"><!--[--><!--]--> PA4 - 虚实交错的魔法: 分时多任务 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="4.1.html" class="sidebar-item" aria-label="多道程序"><!--[--><!--]--> 多道程序 <!--[--><!--]--></a><!----></li><li><a href="4.2.html" class="sidebar-item" aria-label="程序和内存位置"><!--[--><!--]--> 程序和内存位置 <!--[--><!--]--></a><!----></li><li><a href="4.3.html" class="sidebar-item" aria-label="超越容量的界限"><!--[--><!--]--> 超越容量的界限 <!--[--><!--]--></a><!----></li><li><a href="4.4.html" class="sidebar-item" aria-label="分时多任务"><!--[--><!--]--> 分时多任务 <!--[--><!--]--></a><!----></li><li><a href="4.5.html" class="sidebar-item" aria-label="编写不朽的传奇"><!--[--><!--]--> 编写不朽的传奇 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="blank" class="sidebar-item sidebar-heading" aria-label="杂项"><!--[--><!--]--> 杂项 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="FAQ.html" class="sidebar-item" aria-label="常见问题(FAQ)"><!--[--><!--]--> 常见问题(FAQ) <!--[--><!--]--></a><!----></li><li><a href="why.html" class="sidebar-item" aria-label="为什么要学习计算机系统基础"><!--[--><!--]--> 为什么要学习计算机系统基础 <!--[--><!--]--></a><!----></li><li><a href="linux.html" class="sidebar-item" aria-label="Linux入门教程"><!--[--><!--]--> Linux入门教程 <!--[--><!--]--></a><!----></li><li><a href="man.html" class="sidebar-item" aria-label="man快速入门"><!--[--><!--]--> man快速入门 <!--[--><!--]--></a><!----></li><li><a href="git.html" class="sidebar-item" aria-label="git快速入门"><!--[--><!--]--> git快速入门 <!--[--><!--]--></a><!----></li><li><a href="nemu-isa-api.html" class="sidebar-item" aria-label="NEMU ISA相关的API说明文档"><!--[--><!--]--> NEMU ISA相关的API说明文档 <!--[--><!--]--></a><!----></li><li><a href="changelog.html" class="sidebar-item" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a><!----></li><li><a href="i386-intro.html" class="sidebar-item" aria-label="x86指令系统简介"><!--[--><!--]--> x86指令系统简介 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="穿越时空的旅程" tabindex="-1"><a class="header-anchor" href="3.2.html#穿越时空的旅程" aria-hidden="true">#</a> 穿越时空的旅程</h1><p>有了强大的硬件保护机制, 用户程序将无法把执行流切换到操作系统的任意代码了. 但为了实现最简单的操作系统, 硬件还需要提供一种可以限制入口的执行流切换方式. 这种方式就是自陷指令, 程序执行自陷指令之后, 就会陷入到操作系统预先设置好的跳转目标. 这个跳转目标也称为异常入口地址.</p><p>这一过程是ISA规范的一部分, 称为中断/异常响应机制. 大部分ISA并不区分CPU的异常和自陷, 甚至是将会在PA4最后介绍的硬件中断, 而是对它们进行统一的响应. 目前我们并未加入硬件中断, 因此先把这个机制简称为&quot;异常响应机制&quot;吧.</p><h3 id="x86" tabindex="-1"><a class="header-anchor" href="3.2.html#x86" aria-hidden="true">#</a> x86</h3><p>x86提供<code>int</code>指令作为自陷指令, 但其异常响应机制和其它ISA相比会复杂一些. 在x86中, 上述的异常入口地址是通过门描述符(Gate Descriptor)来指示的. 门描述符是一个8字节的结构体, 里面包含着不少细节的信息, 我们在NEMU中简化了门描述符的结构, 只保留存在位P和偏移量OFFSET:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>   31                23                15                7                0
  +-----------------+-----------------+---+-------------------------------+
  |           OFFSET 31..16           | P |          Don&#39;t care           |4
  +-----------------------------------+---+-------------------------------+
  |             Don&#39;t care            |           OFFSET 15..0            |0
  +-----------------+-----------------+-----------------+-----------------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>P位来用表示这一个门描述符是否有效, OFFSET用来指示异常入口地址. 有了门描述符, 用户程序就只能跳转到门描述符中OFFSET所指定的位置, 再也不能随心所欲地跳转到操作系统的任意代码了.</p><p>为了方便管理各个门描述符, x86把内存中的某一段数据专门解释成一个数组, 叫IDT(Interrupt Descriptor Table, 中断描述符表), 数组的一个元素就是一个门描述符. 为了从数组中找到一个门描述符, 我们还需要一个索引. 对于CPU异常来说, 这个索引由CPU内部产生(例如除零异常为0号异常),或者由<code>int</code>指令给出(例如<code>int $0x80</code>). 最后, 为了在内存中找到IDT, x86使用IDTR寄存器来存放IDT的首地址和长度. 操作系统的代码事先把IDT准备好, 然后执行一条特殊的指令<code>lidt</code>, 来在IDTR中设置好IDT的首地址和长度, 这一异常响应机制就可以正常工作了. 现在是万事俱备, 等到程序执行自陷指令或者触发异常的时候, CPU就会按照设定好的IDT跳转到异常入口地址:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>           |               |
           |   Entry Point |&lt;----+
           |               |     |
           |               |     |
           |               |     |
           +---------------+     |
           |               |     |
           |               |     |
           |               |     |
           +---------------+     |
           |offset |       |     |
           |-------+-------|     |
           |       | offset|-----+
  index---&gt;+---------------+
           |               |
           |Gate Descriptor|
           |               |
    IDT---&gt;+---------------+
           |               |
           |               |
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>不过, 我们将来还是有可能需要返回到程序的当前状态来继续执行的, 比如通过<code>int3</code>触发的断点异常. 这意味着, 我们需要在进行响应异常的时候保存好程序当前的状态. 于是, 触发异常后硬件的响应过程如下:</p><ol><li>从IDTR中读出IDT的首地址</li><li>根据异常号在IDT中进行索引, 找到一个门描述符</li><li>将门描述符中的offset域组合成异常入口地址</li><li>依次将eflags, cs(代码段寄存器), eip(也就是PC)寄存器的值压栈</li><li>跳转到异常入口地址</li></ol><p>在计算机和谐社会中, 大部分门描述符都不能让用户进程随意使用, 否则恶意程序就可以通过<code>int</code>指令欺骗操作系统. 例如恶意程序执行<code>int $0x2</code>来谎报电源掉电, 扰乱其它进程的正常运行. 因此执行<code>int</code>指令也需要进行特权级检查, 但PA中就不实现这一保护机制了, 具体的检查规则我们也就不展开讨论了, 需要了解时RTFM即可.</p><h3 id="mips32" tabindex="-1"><a class="header-anchor" href="3.2.html#mips32" aria-hidden="true">#</a> mips32</h3><p>mips32提供<code>syscall</code>指令作为自陷指令, 它的工作过程十分简单. mips32约定, 上述的异常入口地址总是<code>0x80000180</code>. 为了保存程序当前的状态, mips32提供了一些特殊的系统寄存器, 这些寄存器位于0号协处理器(Co-Processor 0)中, 因此也称CP0寄存器. 在PA中, 我们只使用如下3个CP0寄存器:</p><ul><li>epc寄存器 - 存放触发异常的PC</li><li>status寄存器 - 存放处理器的状态</li><li>cause寄存器 - 存放触发异常的原因</li></ul><p>mips32触发异常后硬件的响应过程如下:</p><ol><li>将当前PC值保存到epc寄存器</li><li>在cause寄存器中设置异常号</li><li>在status寄存器中设置异常标志, 使处理器进入内核态</li><li>跳转到<code>0x80000180</code></li></ol><h3 id="riscv32" tabindex="-1"><a class="header-anchor" href="3.2.html#riscv32" aria-hidden="true">#</a> riscv32</h3><p>riscv32提供<code>ecall</code>指令作为自陷指令, 并提供一个mtvec寄存器来存放异常入口地址. 为了保存程序当前的状态, riscv32提供了一些特殊的系统寄存器, 叫控制状态寄存器(CSR寄存器). 在PA中, 我们只使用如下3个CSR寄存器:</p><ul><li>mepc寄存器 - 存放触发异常的PC</li><li>mstatus寄存器 - 存放处理器的状态</li><li>mcause寄存器 - 存放触发异常的原因</li></ul><p>riscv32触发异常后硬件的响应过程如下:</p><ol><li>将当前PC值保存到mepc寄存器</li><li>在mcause寄存器中设置异常号</li><li>从mtvec寄存器中取出异常入口地址</li><li>跳转到异常入口地址</li></ol><hr><p>需要注意的是, 上述保存程序状态以及跳转到异常入口地址的工作, 都是硬件自动完成的, 不需要程序员编写指令来完成相应的内容. 事实上, 这只是一个简化后的过程, 在真实的计算机上还要处理很多细节问题, 比如x86和riscv32的特权级切换等, 在这里我们就不深究了. ISA手册中还记录了处理器对中断号和异常号的分配情况, 并列出了各种异常的详细解释, 需要了解的时候可以进行查阅.</p><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-question-circle"></i> 特殊的原因? (建议二周目思考)</h4></span><p>这些程序状态(x86的eflags, cs, eip; mips32的epc, status, cause; riscv32的mepc, mstatus, mcause)必须由硬件来保存吗? 能否通过软件来保存? 为什么?</p></div><p>由于异常入口地址是硬件和操作系统约定好的, 接下来的处理过程将会由操作系统来接管, 操作系统将视情况决定是否终止当前程序的运行(例如触发段错误的程序将会被杀死). 若决定无需杀死当前程序, 等到异常处理结束之后, 就根据之前保存的信息恢复程序的状态, 并从异常处理过程中返回到程序触发异常之前的状态. 具体地:</p><ul><li>x86通过<code>iret</code>指令从异常处理过程中返回, 它将栈顶的三个元素来依次解释成eip, cs, eflags, 并恢复它们.</li><li>mips32通过<code>eret</code>指令从异常处理过程中返回, 它将清除status寄存器中的异常标志, 并根据epc寄存器恢复PC.</li><li>riscv32通过<code>mret</code>指令从异常处理过程中返回, 它将根据mepc寄存器恢复PC.</li></ul><h3 id="状态机视角下的异常响应机制" tabindex="-1"><a class="header-anchor" href="3.2.html#状态机视角下的异常响应机制" aria-hidden="true">#</a> 状态机视角下的异常响应机制</h3><p>程序是个<code>S = &lt;R, M&gt;</code>的状态机, 我们之前已经讨论过在TRM和IOE中这个状态机的具体行为. 如果要给计算机添加异常响应机制, 我们又应该如何对这个状态机进行扩充呢?</p><p>首先当然是对<code>R</code>的扩充, 除了PC和通用寄存器之外, 还需要添加上文提到的一些特殊寄存器. 我们不妨把这些寄存器称为系统寄存器(System Register), 因为这些寄存器的作用都是和系统功能相关的, 平时进行计算的时候不会使用. 扩充之后的寄存器可以表示为<code>R = {GPR, PC, SR}</code>. 异常响应机制和内存无关, 因此我们无需对<code>M</code>的含义进行修改.</p><p>对状态转移的扩充就比较有趣了. 我们之前都是认为程序执行的每一条指令都会成功, 从而状态机会根据指令的语义进行状态转移. 添加异常响应机制之后, 我们允许一条指令的执行会&quot;失败&quot;. 为了描述指令执行失败的行为, 我们可以假设CPU有一条虚构的指令<code>raise_intr</code>, 执行这条虚构指令的行为就是上文提到的异常响应过程. 显然, 这一行为是可以用状态机视角来描述的, 例如在riscv32中可以表示成:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SR[mepc] &lt;- PC
SR[mcause] &lt;- 一个描述失败原因的号码
PC &lt;- SR[mtvec]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>有了这条虚构的指令, 我们就可以从状态机视角来理解异常响应的行为了: 如果一条指令执行成功, 其行为和之前介绍的TRM与IOE相同; 如果一条指令执行失败, 其行为等价于执行了虚构的<code>raise_intr</code>指令.</p><p>那么, &quot;一条指令的执行是否会失败&quot;这件事是不是确定性的呢? 显然这取决于&quot;失败&quot;的定义, 例如除0就是&quot;除法指令的第二个操作数为0&quot;, 非法指令可以定义成&quot;不属于ISA手册描述范围的指令&quot;, 而自陷指令可以认为是一种特殊的无条件失败. 不同的ISA手册都有各自对&quot;失败&quot;的定义, 例如RISC-V手册就不认为除0是一种失败, 因此即使除数为0, 在RISC-V处理器中这条指令也会按照指令手册的描述来执行.</p><p>事实上, 我们可以把这些失败的条件表示成一个函数<code>fex: S -&gt; {0, 1}</code>, 给定状态机的任意状态<code>S</code>, <code>fex(S)</code>都可以唯一表示当前PC指向的指令是否可以成功执行. 于是, 给计算机加入异常响应机制并不会增加系统的不确定性, 这大大降低了我们理解异常响应机制的难度, 同时也让调试不至于太困难: 一个程序运行多次, 还是会在相同的地方抛出相同的异常, 从而进行相同的状态转移 (IOE的输入指令会引入一些不确定性, 但目前还是在我们能控制的范围内).</p><p><img src="../assets/cte.08895f5f.png" alt="cte"></p><p>最后, 异常响应机制的加入还伴随着一些系统指令的添加, 例如x86的<code>lidt</code>, <code>iret</code>, riscv32的<code>csrrw</code>, <code>mret</code>等. 这些指令除了用于专门对状态机中的<code>SR</code>进行操作之外, 它们本质上和TRM的计算指令没有太大区别, 因此它们的行为也不难理解.</p><h2 id="将上下文管理抽象成cte" tabindex="-1"><a class="header-anchor" href="3.2.html#将上下文管理抽象成cte" aria-hidden="true">#</a> 将上下文管理抽象成CTE</h2><p>我们刚才提到了程序的状态, 在操作系统中有一个等价的术语, 叫&quot;上下文&quot;. 因此, 硬件提供的上述在操作系统和用户程序之间切换执行流的功能, 在操作系统看来, 都可以划入上下文管理的一部分.</p><p>与IOE一样, 上下文管理的具体实现也是架构相关的: 例如上文提到, x86/mips32/riscv32中分别通过<code>int</code>/<code>syscall</code>/<code>ecall</code>指令来进行自陷, <code>native</code>中甚至可以通过一些神奇的库函数来模拟相应的功能; 而上下文的具体内容, 在不同的架构上也显然不一样(比如寄存器就已经不一样了). 于是, 我们可以将上下文管理的功能划入到AM的一类新的API中, 名字叫CTE(ConText Extension).</p><p>接下来的问题是, 如何将不同架构的上下文管理功能抽象成统一的API呢? 换句话说, 我们需要思考, 操作系统的处理过程其实需要哪些信息?</p><ul><li>首先当然是引发这次执行流切换的原因, 是程序除0, 非法指令, 还是触发断点, 又或者是程序自愿陷入操作系统? 根据不同的原因, 操作系统都会进行不同的处理.</li><li>然后就是程序的上下文了, 在处理过程中, 操作系统可能会读出上下文中的一些寄存器, 根据它们的信息来进行进一步的处理. 例如操作系统读出PC所指向的非法指令, 看看其是否能被模拟执行. 事实上, 通过这些上下文, 操作系统还能实现一些神奇的功能, 你将会在PA4中了解更详细的信息.</li></ul><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-comment-o"></i> 用软件模拟指令</h4></span><p>在一些嵌入式场景中, 处理器对低功耗的要求非常严格, 很多时候都会去掉浮点处理单元FPU来节省功耗. 这时候如果软件要执行一条浮点指令, 处理器就会抛出一个非法指令的异常. 有了异常响应机制, 我们就可以在异常处理的过程中模拟这条非法指令的执行了, 原理和PA2中的指令执行过程非常类似. 在不带FPU的各种处理器中, 都可以通过这种方式来执行浮点指令.</p></div><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-comment-o"></i> 在AM中执行浮点指令是UB</h4></span><p>换句话说, AM的运行时环境不支持浮点数. 这听上去太暴力了. 之所以这样决定, 是因为IEEE 754是个工业级标准, 为了形式化逻辑上的soundness和completeness, 标准里面可能会有各种奇怪的设定, 例如不同的舍入方式, inf和nan的引入等等, 作为教学其实没有必要去理解它们的所有细节; 但如果要去实现一个正确的FPU, 你就没法摆脱这些细节了.</p><p>和PA2中的定点指令不同, 浮点指令在PA中用到的场合比较少, 而且我们有别的方式可以绕开, 所以就怎么简单怎么来了, 于是就UB吧. 当然, 如果你感兴趣, 你也可以考虑实现一个简化版的FPU. 毕竟是UB, 如果你的FPU行为正确, 也不算违反规定.</p></div><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-comment-o"></i> 另一个UB</h4></span><p>另一种你可能会碰到的UB是栈溢出, 对, 就是stackoverflow的那个. 检测栈溢出需要一个更强大的运行时环境, AM肯定是无能为力了, 于是就UB吧.</p><p>不过, AM究竟给程序提供了多大的栈空间呢? 事实上, 如果你在PA2的时候尝试努力了解每一处细节, 你已经知道这个问题的答案了; 如果你没有, 你需要反思一下自己了, 还是认真RTFSC吧.</p></div><p>所以, 我们只要把这两点信息抽象成一种统一的表示方式, 就可以定义出CTE的API了. 对于切换原因, 我们只需要定义一种统一的描述方式即可. CTE定义了名为&quot;事件&quot;的如下数据结构(见<code>abstract-machine/am/include/am.h</code>):</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Event</span> <span class="token punctuation">{</span>
  <span class="token keyword">enum</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span> event<span class="token punctuation">;</span>
  <span class="token class-name">uintptr_t</span> cause<span class="token punctuation">,</span> ref<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>msg<span class="token punctuation">;</span>
<span class="token punctuation">}</span> Event<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中<code>event</code>表示事件编号, <code>cause</code>和<code>ref</code>是一些描述事件的补充信息, <code>msg</code>是事件信息字符串, 我们在PA中只会用到<code>event</code>. 然后, 我们只要定义一些统一的事件编号(上述枚举常量), 让每个架构在实现各自的CTE API时, 都统一通过上述结构体来描述执行流切换的原因, 就可以实现切换原因的抽象了.</p><p>对于上下文, 我们只能将描述上下文的结构体类型名统一成<code>Context</code>, 至于其中的具体内容, 就无法进一步进行抽象了. 这主要是因为不同架构之间上下文信息的差异过大, 比如mips32有32个通用寄存器, 就从这一点来看, mips32和x86的<code>Context</code>注定是无法抽象成完全统一的结构的. 所以在AM中, <code>Context</code>的具体成员也是由不同的架构自己定义的, 比如<code>x86-nemu</code>的<code>Context</code>结构体在<code>abstract-machine/am/include/arch/x86-nemu.h</code>中定义. 因此, 在操作系统中对<code>Context</code>成员的直接引用, 都属于架构相关的行为, 会损坏操作系统的可移植性. 不过大多数情况下, 操作系统并不需要单独访问<code>Context</code>结构中的成员. CTE也提供了一些的接口, 来让操作系统在必要的时候访问它们, 从而保证操作系统的相关代码与架构无关.</p><p>最后还有另外两个统一的API:</p><ul><li><code>bool cte_init(Context* (*handler)(Event ev, Context *ctx))</code>用于进行CTE相关的初始化操作. 其中它还接受一个来自操作系统的事件处理回调函数的指针, 当发生事件时, CTE将会把事件和相关的上下文作为参数, 来调用这个回调函数, 交由操作系统进行后续处理.</li><li><code>void yield()</code>用于进行自陷操作, 会触发一个编号为<code>EVENT_YIELD</code>事件. 不同的ISA会使用不同的自陷指令来触发自陷操作, 具体实现请RTFSC.</li></ul><p>CTE中还有其它的API, 目前不使用, 故暂不介绍它们.</p><p>接下来, 我们将尝试在Nanos-lite中触发一次自陷操作, 来梳理过程中的细节.</p><h3 id="设置异常入口地址" tabindex="-1"><a class="header-anchor" href="3.2.html#设置异常入口地址" aria-hidden="true">#</a> 设置异常入口地址</h3><p>首先是按照ISA的约定来设置异常入口地址, 将来切换执行流时才能跳转到正确的异常入口. 这显然是架构相关的行为, 因此我们把这一行为放入CTE中, 而不是让Nanos-lite直接来设置异常入口地址. 你需要在<code>nanos-lite/include/common.h</code>中定义宏<code>HAS_CTE</code>, 这样以后, Nanos-lite会多进行一项初始化工作: 调用<code>init_irq()</code>函数, 这最终会调用位于<code>abstract-machine/am/src/$ISA/nemu/cte.c</code>中的<code>cte_init()</code>函数. <code>cte_init()</code>函数会做两件事情, 第一件就是设置异常入口地址:</p><ul><li>对x86来说, 就是要准备一个有意义的IDT <ol><li>代码定义了一个结构体数组<code>idt</code>, 它的每一个元素是一个门描述符结构体</li><li>在相应的数组元素中填写有意义的门描述符, 例如编号为<code>0x81</code>的门描述符中就包含自陷操作的入口地址. 需要注意的是, 框架代码中还是填写了完整的门描述符(包括上文中提到的don&#39;t care的域), 这主要是为了进行DiffTest时让KVM也能跳转到正确的入口地址. KVM实现了完整的x86异常响应机制, 如果只填写简化版的门描述符, 代码就无法在其中正确运行. 但我们无需了解其中的细节, 只需要知道代码已经填写了正确的门描述符即可.</li><li>通过<code>lidt</code>指令在IDTR中设置<code>idt</code>的首地址和长度</li></ol></li><li>对于mips32来说, 由于异常入口地址是固定在<code>0x80000180</code>, 因此我们需要在<code>0x80000180</code>放置一条无条件跳转指令, 使得这一指令的跳转目标是我们希望的真正的异常入口地址即可.</li><li>对于riscv32来说, 直接将异常入口地址设置到mtvec寄存器中即可.</li></ul><p><code>cte_init()</code>函数做的第二件事是注册一个事件处理回调函数, 这个回调函数由Nanos-lite提供, 更多信息会在下文进行介绍.</p><h3 id="触发自陷操作" tabindex="-1"><a class="header-anchor" href="3.2.html#触发自陷操作" aria-hidden="true">#</a> 触发自陷操作</h3><p>为了测试异常入口地址是否已经设置正确, 我们还需要真正触发一次自陷操作. 定义了宏<code>HAS_CTE</code>后, Nanos-lite会在<code>panic()</code>前调用<code>yield()</code>来触发自陷操作. 为了支撑这次自陷操作, 你需要在NEMU中实现<code>isa_raise_intr()</code>函数 (在<code>nemu/src/isa/$ISA/system/intr.c</code>中定义)来模拟上文提到的异常响应机制.</p><p>需要注意的是:</p><ul><li>PA不涉及特权级的切换, RTFM的时候你不需要关心和特权级切换相关的内容.</li><li>你需要在自陷指令的实现中调用<code>isa_raise_intr()</code>, 而不要把异常响应机制的代码放在自陷指令的helper函数中实现, 因为在后面我们会再次用到<code>isa_raise_intr()</code>函数.</li><li>如果你选择的是x86, 通过IDTR中的地址对IDT进行索引的时候, 需要使用<code>vaddr_read()</code>.</li></ul><div class="custom-container c-yellow"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-edit"></i> 实现异常响应机制</h4></span><p>你需要实现上文提到的新指令, 并实现<code>isa_raise_intr()</code>函数. 然后阅读<code>cte_init()</code>的代码, 找出相应的异常入口地址.</p><p>实现后, 重新运行Nanos-lite, 如果你发现NEMU确实跳转到你找到的异常入口地址, 说明你的实现正确(NEMU也可能因为触发了未实现指令而终止运行).</p></div><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-edit"></i> 让DiffTest支持异常响应机制</h4></span><p>为了让DiffTest机制正确工作, 你需要</p><ul><li>针对x86: <ul><li>NEMU中不实现分段机制, 没有cs寄存器的概念. 但为了顺利进行DiffTest, 你还是需要在cpu结构体中添加一个cs寄存器, 并在将其初始化为<code>8</code>.</li><li>由于x86的异常响应机制需要对eflags进行压栈, 你还需要将eflags初始化为<code>0x2</code>.</li></ul></li><li>针对riscv32, 你需要将mstatus初始化为<code>0x1800</code>.</li><li>针对riscv64, 你需要将mstatus初始化为<code>0xa00001800</code>.</li></ul></div><h3 id="保存上下文" tabindex="-1"><a class="header-anchor" href="3.2.html#保存上下文" aria-hidden="true">#</a> 保存上下文</h3><p>成功跳转到异常入口地址之后, 我们就要在软件上开始真正的异常处理过程了. 但是, 进行异常处理的时候不可避免地需要用到通用寄存器, 然而看看现在的通用寄存器, 里面存放的都是执行流切换之前的内容. 这些内容也是上下文的一部分, 如果不保存就覆盖它们, 将来就无法恢复这一上下文了. 但通常硬件并不负责保存它们, 因此需要通过软件代码来保存它们的值. x86提供了<code>pusha</code>指令, 用于把通用寄存器的值压栈; 而mips32和riscv32则通过<code>sw</code>指令将各个通用寄存器依次压栈.</p><p>除了通用寄存器之外, 上下文还包括:</p><ul><li>触发异常时的PC和处理器状态. 对于x86来说就是eflags, cs和eip, x86的异常响应机制已经将它们保存在堆栈上了; 对于mips32和riscv32来说, 就是epc/mepc和status/mstatus寄存器, 异常响应机制把它们保存在相应的系统寄存器中, 我们还需要将它们从系统寄存器中读出, 然后保存在堆栈上.</li><li>异常号. 对于x86, 异常号由软件保存; 而对于mips32和riscv32, 异常号已经由硬件保存在cause/mcause寄存器中, 我们还需要将其保存在堆栈上.</li><li>地址空间. 这是为PA4准备的, 在x86中对应的是<code>CR3</code>寄存器, 代码通过一条<code>pushl $0</code>指令在堆栈上占位, mips32和riscv32则是将地址空间信息与0号寄存器共用存储空间, 反正0号寄存器的值总是0, 也不需要保存和恢复. 不过目前我们暂时不使用地址空间信息, 你目前可以忽略它们的含义.</li></ul><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-question-circle"></i> 异常号的保存</h4></span><p>x86通过软件来保存异常号, 没有类似cause的寄存器. mips32和riscv32也可以这样吗? 为什么?</p></div><p>于是, 这些内容构成了完整的上下文信息, 异常处理过程可以根据上下文来诊断并进行处理, 同时, 将来恢复上下文的时候也需要这些信息.</p><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-question-circle"></i> 对比异常处理与函数调用</h4></span><p>我们知道进行函数调用的时候也需要保存调用者的状态: 返回地址, 以及calling convention中需要调用者保存的寄存器. 而CTE在保存上下文的时候却要保存更多的信息. 尝试对比它们, 并思考两者保存信息不同是什么原因造成的.</p></div><p>接下来代码会调用C函数<code>__am_irq_handle()</code>(在<code>abstract-machine/am/src/$ISA/nemu/cte.c</code>中定义), 来进行异常的处理.</p><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-question-circle"></i> 诡异的x86代码</h4></span><p>x86的<code>trap.S</code>中有一行<code>pushl %esp</code>的代码, 乍看之下其行为十分诡异. 你能结合前后的代码理解它的行为吗? Hint: 程序是个状态机.</p></div><div class="custom-container c-yellow"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-edit"></i> 重新组织`Context`结构体</h4></span><p>你的任务如下:</p><ul><li>实现这一过程中的新指令, 详情请RTFM.</li><li>理解上下文形成的过程并RTFSC, 然后重新组织<code>abstract-machine/am/include/arch/$ISA-nemu.h</code> 中定义的<code>Context</code>结构体的成员, 使得这些成员的定义顺序和 <code>abstract-machine/am/src/$ISA/nemu/trap.S</code>中构造的上下文保持一致.</li></ul><p>需要注意的是, 虽然我们目前暂时不使用上文提到的地址空间信息, 但你在重新组织<code>Context</code>结构体时仍然需要正确地处理地址空间信息的位置, 否则你可能会在PA4中遇到难以理解的错误.</p><p>实现之后, 你可以在<code>__am_irq_handle()</code>中通过<code>printf</code>输出上下文<code>c</code>的内容, 然后通过简易调试器观察触发自陷时的寄存器状态, 从而检查你的<code>Context</code>实现是否正确.</p></div><div class="custom-container c-green"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-lightbulb-o"></i> 给一些提示吧</h4></span><p>&quot;实现新指令&quot;没什么好说的, 你已经在PA2中实现了很多指令了. &quot;重新组织结构体&quot;是一个非常有趣的题目, 如果你不知道要做什么, 不妨从读懂题目开始. 题目大概的意思就是, 根据<code>trap.S</code>里面的内容, 来定义<code>$ISA-nemu.h</code>里面的一个结构体. <code>trap.S</code>明显是汇编代码, 而<code>$ISA-nemu.h</code>里面则是一个用C语言定义的结构体. 汇编代码和C语言... 等等, 你好像想起了ICS课本的某些内容...</p></div><div class="custom-container c-red"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-bullhorn"></i> 我乱改一通, 居然过了, 嘿嘿嘿</h4></span><p>如果你还抱着这种侥幸心态, 你在PA3中会过得非常痛苦. 事实上, &quot;明白如何正确重新组织结构体&quot;是PA3中非常重要的内容. 所以我们还是加一道必答题吧.</p></div><div class="custom-container c-yellow"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-edit"></i> 必答题(需要在实验报告中回答) - 理解上下文结构体的前世今生</h4></span><p>你会在<code>__am_irq_handle()</code>中看到有一个上下文结构指针<code>c</code>, <code>c</code>指向的上下文结构究竟在哪里? 这个上下文结构又是怎么来的? 具体地, 这个上下文结构有很多成员, 每一个成员究竟在哪里赋值的? <code>$ISA-nemu.h</code>, <code>trap.S</code>, 上述讲义文字, 以及你刚刚在NEMU中实现的新指令, 这四部分内容又有什么联系?</p><p>如果你不是脑袋足够灵光, 还是不要眼睁睁地盯着代码看了, 理解程序的细节行为还是要从状态机视角入手.</p></div><h3 id="事件分发" tabindex="-1"><a class="header-anchor" href="3.2.html#事件分发" aria-hidden="true">#</a> 事件分发</h3><p><code>__am_irq_handle()</code>的代码会把执行流切换的原因打包成事件, 然后调用在<code>cte_init()</code>中注册的事件处理回调函数, 将事件交给Nanos-lite来处理. 在Nanos-lite中, 这一回调函数是<code>nanos-lite/src/irq.c</code>中的<code>do_event()</code>函数. <code>do_event()</code>函数会根据事件类型再次进行分发. 不过我们在这里会触发一个未处理的4号事件:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[src/irq.c,5,do_event] system panic: Unhandled event ID = 4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这是因为CTE的<code>__am_irq_handle()</code>函数并未正确识别出自陷事件. 根据<code>yield()</code>的定义, <code>__am_irq_handle()</code>函数需要将自陷事件打包成编号为<code>EVENT_YIELD</code>的事件.</p><div class="custom-container c-yellow"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-edit"></i> 实现正确的事件分发</h4></span><p>你需要:</p><ol><li>在<code>__am_irq_handle()</code>中通过异常号识别出自陷异常, 并打包成编号为<code>EVENT_YIELD</code>的自陷事件.</li><li>在<code>do_event()</code>中识别出自陷事件<code>EVENT_YIELD</code>, 然后输出一句话即可, 目前无需进行其它操作.</li></ol><p>重新运行Nanos-lite, 如果你的实现正确, 你会看到识别到自陷事件之后输出的信息,</p></div><h3 id="恢复上下文" tabindex="-1"><a class="header-anchor" href="3.2.html#恢复上下文" aria-hidden="true">#</a> 恢复上下文</h3><p>代码将会一路返回到<code>trap.S</code>的<code>__am_asm_trap()</code>中, 接下来的事情就是恢复程序的上下文. <code>__am_asm_trap()</code>将根据之前保存的上下文内容, 恢复程序的状态, 最后执行&quot;异常返回指令&quot;返回到程序触发异常之前的状态.</p><p>不过这里需要注意之前自陷指令保存的PC, 对于x86的<code>int</code>指令, 保存的是指向其下一条指令的PC, 这有点像函数调用; 而对于mips32的<code>syscall</code>和riscv32的<code>ecall</code>, 保存的是自陷指令的PC, 因此软件需要在适当的地方对保存的PC加上4, 使得将来返回到自陷指令的下一条指令.</p><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-question-circle"></i> 从加4操作看CISC和RISC</h4></span><p>事实上, 自陷只是其中一种异常类型. 有一种故障类异常, 它们返回的PC和触发异常的PC是同一个, 例如缺页异常, 在系统将故障排除后, 将会重新执行相同的指令进行重试, 因此异常返回的PC无需加4. 所以根据异常类型的不同, 有时候需要加4, 有时候则不需要加.</p><p>这时候, 我们就可以考虑这样的一个问题了: 决定要不要加4的, 是硬件还是软件呢? CISC和RISC的做法正好相反, CISC都交给硬件来做, 而RISC则交给软件来做. 思考一下, 这两种方案各有什么取舍? 你认为哪种更合理呢? 为什么?</p></div><p>代码最后会返回到Nanos-lite触发自陷的代码位置, 然后继续执行. 在它看来, 这次时空之旅就好像没有发生过一样.</p><div class="custom-container c-yellow"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-edit"></i> 恢复上下文</h4></span><p>你需要实现这一过程中的新指令. 重新运行Nanos-lite, 如果你的实现正确, 你会看到在<code>do_event()</code>中输出的信息, 并且最后仍然触发了<code>main()</code>函数末尾设置的<code>panic()</code>.</p></div><div class="custom-container c-yellow"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-edit"></i> 必答题(需要在实验报告中回答) - 理解穿越时空的旅程</h4></span><p>从Nanos-lite调用<code>yield()</code>开始, 到从<code>yield()</code>返回的期间, 这一趟旅程具体经历了什么? 软(AM, Nanos-lite)硬(NEMU)件是如何相互协助来完成这趟旅程的? 你需要解释这一过程中的每一处细节, 包括涉及的每一行汇编代码/C代码的行为, 尤其是一些比较关键的指令/变量. 事实上, 上文的必答题&quot;理解上下文结构体的前世今生&quot;已经涵盖了这趟旅程中的一部分, 你可以把它的回答包含进来.</p><p>别被&quot;每一行代码&quot;吓到了, 这个过程也就大约50行代码, 要完全理解透彻并不是不可能的. 我们之所以设置这道必答题, 是为了强迫你理解清楚这个过程中的每一处细节. 这一理解是如此重要, 以至于如果你缺少它, 接下来你面对bug几乎是束手无策.</p></div><div class="custom-container c-blue"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-question-circle"></i> mips32延迟槽和异常</h4></span><p>我们在PA2中提到, 标准的mips32处理器采用了分支延迟槽技术. 思考一下, 如果标准的mips32处理器在执行延迟槽指令的时候触发了异常, 从异常返回之后可能会造成什么问题? 该如何解决? 尝试RTFM对比你的解决方案.</p></div><h3 id="异常处理的踪迹-etrace" tabindex="-1"><a class="header-anchor" href="3.2.html#异常处理的踪迹-etrace" aria-hidden="true">#</a> 异常处理的踪迹 - etrace</h3><p>处理器抛出异常也可以反映程序执行的行为, 因此我们也可以记录异常处理的踪迹(exception trace). 你也许认为在CTE中通过<code>printf()</code>输出信息也可以达到类似的效果, 但这一方案和在NEMU中实现的etrace还是有如下区别:</p><ul><li>打开etrace不改变程序的行为(对程序来说是非侵入式的): 你将来可能会遇到一些bug, 当你尝试插入一些<code>printf()</code>之后, bug的行为就会发生变化. 对于这样的bug, etrace还是可以帮助你进行诊断, 因为它是在NEMU中输出的, 不会改变程序的行为.</li><li>etrace也不受程序行为的影响: 如果程序包含一些致命的bug导致无法进入异常处理函数, 那就无法在CTE中调用<code>printf()</code>来输出; 在这种情况下, etrace仍然可以正常工作</li></ul><p>事实上, QEMU和Spike也实现了类似etrace的功能, 如果在上面运行的系统软件发生错误, 开发者也可以通过这些功能快速地进行bug的定位和诊断.</p><div class="custom-container c-yellow"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-edit"></i> 实现etrace</h4></span><p>你已经在NEMU中实现了很多trace工具了, 要实现etrace自然也难不倒你啦.</p></div><div class="custom-container c-green"><span class="custom-container-title"><h4 style="display:inline;"><i class="fa fa-lightbulb-o"></i> 温馨提示</h4></span><p>PA3阶段1到此结束.</p></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="3.1.html" class="" aria-label="批处理系统"><!--[--><!--]--> 批处理系统 <!--[--><!--]--></a></span><span class="next"><a href="3.3.html" class="" aria-label="用户程序和系统调用"><!--[--><!--]--> 用户程序和系统调用 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="../assets/app.4a525931.js" defer></script>
  </body>
</html>
